---
title: Troubleshooting
description: Common issues and solutions when working with Repix.
navigation:
  icon: i-lucide-wrench
  title: Troubleshooting
seo:
  description: Troubleshooting guide for common Repix issues.
  title: Troubleshooting - Repix
---

## Sharp / Native Module Issues

### Sharp installation fails

Sharp requires native bindings. If `npm install` fails:

```bash
# macOS - ensure Xcode Command Line Tools
xcode-select --install

# Linux - install libvips
# Debian/Ubuntu
sudo apt-get install libvips-dev

# Alpine (Docker)
apk add vips-dev build-base python3 make g++
```

### "Cannot find module 'sharp'"

Rebuild Sharp for your platform:

```bash
npm rebuild sharp
```

## Docker Issues

### Out of memory during build

The build stage compiles Sharp. Increase Docker memory:

```bash
docker build --memory=2g -t repix .
```

### Health check fails

Ensure `/health` is accessible. Check logs:

```bash
docker logs <container-id>
```

Verify the app listens on the expected port (default 3210).

## Image Fetch Errors

### "Could not fetch source image"

- Verify the source URL is publicly accessible
- Check `PREFIX` (default `https://`)
- Ensure the URL in the path doesn't include `https://` (Repix adds it)
- Increase `FETCH_TIMEOUT` for slow origins

### "Invalid image format"

The source file may be corrupted or not a supported format (JPEG, PNG, WebP, AVIF, GIF).

### "Image too large"

Dimensions exceed `MAX_WIDTH` or `MAX_HEIGHT`. Adjust in config or env.

## 403 Custom Transformations Not Allowed

When `allowCustomTransforms` is `false`, only preset names work. Use presets from your config:

```http
/thumbnail/example.com/photo.jpg
```

Custom params like `w=400` will return 403.
